<div class="row">
	<div class="col-md-4">
		<%= image_tag @team.logo_url, width: "100%" if @team.logo_url %>

		<h1><%= @team.name %></h1>
	</div>

	<% @team.members.each do |member| %>
		<div class="col-md-2">
			<%= image_tag member.profile_picture_url, width: "100%", alt: "Invalid Image URL" %>

			<h3><%= link_to member.name, member %></h3>

			<% if can? :remove, @team %>
				<%= form_tag remove_team_path(@team) do %>
					<%= hidden_field_tag :email, member.email %>
					
					<%= submit_tag "Remove", class: "btn btn-danger" %>
				<% end %>
			<% end %>
			
			<% if current_user.team && current_user.team.target && member.on_team?(current_user.team.target) %>
				<div class="btn-group btn-group-sm">
					<%= link_to "Kill", kills_new_path(email: member.email), class: "btn btn-danger btn-sm" %>
					<%= link_to "Neutralized Me", neutralizations_new_path(email: member.email), class: "btn btn-danger btn-sm" %>
				</div>
			<% end %>

			<% if @team.in_game? && (current_user.admin? || current_user.terminator?) %>
				<%= link_to "Terminate", kills_new_path(email: member.email, kind: "termination"), class: "btn btn-danger btn-sm" %>
			<% end %>
		</div>
	<% end %>

	<% (4 - @team.members.count).times do %>
		<div class="col-md-2">
			<% if can? :add, @team %>
				<%= form_tag add_team_path(@team) do %>
					<h3>Add Member</h3>
					
					<%= text_field_tag :email, nil, placeholder: "Email", class: "form-control" %>
					
					<%= submit_tag "Go", class: "btn btn-success" %>
				<% end %>
			<% else %>
				<h3>No Member</h3>
			<% end %>
		</div>
	<% end %>
</div>

<% if @team.description %>
	<p><%= simple_format @team.description %></p>
<% end %>

<%= link_to "Edit", edit_team_path(@team), class: "btn btn-default" if can?(:update, @team) %>
